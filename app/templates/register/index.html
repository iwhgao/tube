{% extends "register/register_base.html" %}
{% block title %}注册{% endblock %}
{% block header_script %}
    <script language="javascript" type="text/javascript">

        var code; //在全局 定义验证码
        var code2; //在全局 定义验证码
        function createCode() {
            code = "";
            var checkCode = document.getElementById("checkCode");

            function RndNum(n) {
                var rnd = "";
                for (var i = 0; i < n; i++)
                    rnd += Math.floor(Math.random() * 10);
                return rnd;
            }

            var num = RndNum(2);
            var num2 = RndNum(2);

            code = num + "+" + num2 + "=";
            code2 = parseInt(num) + parseInt(num2)

            if (checkCode) {
                checkCode.className = "code";
                checkCode.value = code;
            }

        }
    </script>
    <script type="text/javascript">
        $(function () {

            $("#input1").blur(function () {
                var inputCode = document.getElementById("input1").value;
                if (inputCode.length <= 0) {
                    alert("请输入验证码！");
                }
                else if (inputCode != code2) {
                    alert("验证码输入错误！");
                    createCode(); //刷新验证码
                }
            });
        })
    </script>

    <style type="text/css">
        .code {
            font-family: Arial;
            font-style: italic;
            color: Red;
            border: 0;
            padding: 2px 3px;
            letter-spacing: 3px;
            font-weight: bolder;
        }

        .unchanged {
            border: 0;
        }
    </style>

{% endblock %}

{% block body_content %}
    <div class="main-container">
        <div class="main-content">
            <div class="row">
                <div class="col-sm-10 col-sm-offset-1">
                    <div class="login-container">
                        <div class="center">
                            <h1>
                                <span class="blue">Tube</span>
                            </h1>
                        </div>

                        <div class="space-6"></div>


                        <div class="position-relative">
                            <div id="signup-box" class="signup-box widget-box no-border visible">
                                <div class="widget-body">
                                    <div class="widget-main">
                                        <h4 class="header green lighter bigger">
                                            <i class="ace-icon fa fa-users blue"></i>
                                            用户注册
                                        </h4>

                                        <div class="space-6"></div>
                                        <form id="regform" name="regform" method="post" action="start_register">
                                            <fieldset>
                                                <label class="block clearfix">
														<span class="block input-icon input-icon-right">
															<input type="email" name="email" class="form-control"
                                                                   placeholder="邮箱">
															<i class="ace-icon fa fa-envelope"></i>
														</span>
                                                </label>

                                                <label class="block clearfix">
														<span class="block input-icon input-icon-right">
															<input type="text" name="username" class="form-control"
                                                                   placeholder="用户名">
															<i class="ace-icon fa fa-user"></i>
														</span>
                                                </label>

                                                <label class="block clearfix">
														<span class="block input-icon input-icon-right">
															<input type="password" name="password" class="form-control"
                                                                   placeholder="密码">
															<i class="ace-icon fa fa-lock"></i>
														</span>
                                                </label>

                                                <label class="block clearfix">
														<span class="block input-icon input-icon-right">
															<input type="password" name="cpassword" class="form-control"
                                                                   placeholder="确认密码">
															<i class="ace-icon fa fa-retweet"></i>
														</span>
                                                </label>
                                                <label class="block clearfix">
														<span class="block input-icon input-icon-right">
                                                    <input type="text" onclick="createCode()" readonly="readonly"
                                                           id="checkCode" class="unchanged"
                                                           placeholder="点击刷新"
                                                           style="width: 105px;background: #660099"/>
                                                    <input type="text" id="input1" align="right"
                                                           placeholder="输入算数结果"/>
                                                            </span>
                                                </label>

                                                <!--
                                                <label class="block">
                                                    <input type="checkbox" class="ace">
                                                    <span class="lbl">
															接受
		<a href="#" id="licence" rel="popover" data-content="为我的网站创建一个提示框如此简单！"
           data-original-title="Bootstrap弹出框">用户协议</a>
                                                </label>
                                                -->
                                                <div class="space-24"></div>

                                                <div class="clearfix">
                                                    <button type="reset" class="width-45 pull-left btn btn-sm">
                                                        <i class="ace-icon fa fa-refresh"></i>
                                                        <span class="bigger-110">重置</span>
                                                    </button>

                                                    <button type="submit"
                                                            class="width-45 pull-right btn btn-sm btn-success">
                                                        <span class="bigger-110">注册</span>
                                                        <i class="ace-icon fa fa-arrow-right icon-on-right"></i>
                                                    </button>
                                                </div>
                                            </fieldset>
                                        </form>
                                    </div>

                                    <div class="toolbar center">
                                        <a href="/login">
                                            <i class="ace-icon fa fa-arrow-left"></i>
                                            返回登录
                                        </a>
                                    </div>
                                </div><!-- /.widget-body -->
                            </div>


                        </div><!-- /.signup-box -->
                    </div><!-- /.position-relative -->

                    <div class="navbar-fixed-top align-right">
                        <br>
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp;
                        &nbsp; &nbsp; &nbsp;
                    </div>
                </div>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.main-content -->
    </div>
    <div>
{% endblock %}
